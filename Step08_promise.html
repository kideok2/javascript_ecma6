<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step08_promise.html</title>
</head>
<body>
    <script>
        //메뉴를 주문하는 함수라고 가정
        function order(menu, callback){
            //메뉴를 준비하는데 걸리는 시간이 랜덤하다고 가정하자
            const delay=Math.random()*5000+5000; // 5000~10000 사이의 랜덤한 숫자
                        // 0~1
            setTimeout(function(){
                console.log(menu+ "가 준비 되었습니다.");
                callback(menu);
            }, delay); //랜덤한 시간 이후에 호출됨 - 비동기 동작
        }

        //커피를 주문하고 커피가 준비되면 호출되는 함수 전달하기
        order("커피", function(item){    
            //커피가 준비 되었을 때 하고 싶은 작업을 여기서 하면 된다.
            console.log(item+" 맛나게 드셔요!");
            //샌드위치를 주문하고 샌드위치가 준비되면 호출되는 함수 전달하기
            order("샌드위치",function(item){
                // 샌드위치가 준비되었을 때 하고 싶은 작업을 여기서 하면 된다.
                console.log(item+" 야무디게 먹어야지~");
                //아이스크림을 주문하고 아이스크림이 준비되면 호출되는 함수 전달하기
                order("아이스크림", function(item){
                    //아이스크림이 준비 되었을 때 하고 싶은 작업을 여기서 하면 된다.
                    console.log(item+"을 후식으로 먹어요~ 개꿀맛");
                });
            });
        });        
        
        /* 원하는 순서대로 출력하고 싶으면 함수 안에 함수를 넣는다.
        order("커피", function(item){    
            order("샌드위치", function(item){ 
                order("아이스크림", function(item){

                });
            });
        });*/

        // 이 값은 랜덤하게 출력됨
        order("커피", function(item){});
        order("샌드위치", function(item){});       
        order("아이스크림", function(item){});
        
        

    </script>
</body>
</html>